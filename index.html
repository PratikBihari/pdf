<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>PDF Fusion - Merge & Split PDF Files Online for Free</title>
    <meta name="description" content="A beautifully designed tool to easily merge multiple PDF files into one and automatically split them into 20MB chunks. Fast, free, and secure online tool that works directly in your browser.">
    <meta name="keywords" content="pdf merger, pdf splitter, combine pdf, merge pdf, split pdf, pdf tool, online pdf editor, free pdf tool">
    <meta name="author" content="Pratik Bihari">

    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='15' fill='%236EE7B7'/><path d='M25,80 L25,25 L55,25 M25,45 L75,45 M55,25 L75,45 M55,45 L75,45 M25,65 L75,65' stroke='%23042f2e' stroke-width='8' fill='none'/></svg>">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
    <!-- SortableJS for drag-and-drop -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0fdfa; /* emerald-50 */
        }
        .header-font {
            font-family: 'Inter', sans-serif;
            font-weight: 800;
        }
        .main-card {
            background: white;
            border: 1px solid #d1d5db; /* gray-300 */
        }
        .file-item, .feature-card, .info-card, .faq-item {
            opacity: 0;
            transform: translateY(20px);
            animation: popIn 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }
        @keyframes popIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .btn {
            transition: all 0.2s ease-in-out;
            font-weight: 700;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .btn-main {
            background: #10b981; /* emerald-500 */
            color: white;
        }
        .btn-main:hover {
            background: #059669; /* emerald-600 */
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);
        }
        .btn-secondary {
            background: #f0fdfa; /* emerald-50 */
            color: #065f46; /* emerald-800 */
            border: 1px solid #6ee7b7; /* emerald-300 */
        }
        .btn-secondary:hover {
             background: #d1fae5; /* emerald-100 */
             border-color: #34d399; /* emerald-400 */
             transform: translateY(-2px);
             box-shadow: 0 4px 12px rgba(16, 185, 129, 0.1);
        }
        .btn:disabled {
            background: #9ca3af; /* gray-400 */
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
            border-color: transparent;
            color: white;
        }
        /* Custom processing animation */
        #processing-animation {
            display: none;
            position: relative;
            width: 150px;
            height: 100px;
        }
        .doc {
            position: absolute;
            width: 40px;
            height: 55px;
            border-radius: 4px;
            border: 2px solid #34d399; /* emerald-400 */
            animation-duration: 2s;
            animation-iteration-count: infinite;
            transform-origin: bottom center;
            background: rgba(110, 231, 183, 0.2);
        }
        .doc1 { left: 0; animation-name: merge1; }
        .doc2 { left: 55px; animation-name: merge2; }
        .doc3 { left: 110px; animation-name: merge3; }
        @keyframes merge1 {
            0%, 100% { transform: translate(0, 0) rotate(0); }
            50% { transform: translate(55px, -20px) rotate(-15deg); }
        }
        @keyframes merge2 {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(0, -30px); }
        }
        @keyframes merge3 {
            0%, 100% { transform: translate(0, 0) rotate(0); }
            50% { transform: translate(-55px, -20px) rotate(15deg); }
        }
        .drag-over {
            border-color: #10b981 !important;
            background-color: #ecfdf5 !important;
        }
        .sortable-ghost {
            background: #a7f3d0; /* emerald-200 */
            opacity: 0.5;
        }
        .drag-handle {
            cursor: grab;
        }
        .drag-handle:active {
            cursor: grabbing;
        }
        .remove-btn {
            transition: all 0.2s ease-in-out;
        }
        .remove-btn:hover {
            color: #ef4444; /* red-500 */
            transform: scale(1.1);
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4 text-slate-900">

    <div class="w-full max-w-3xl main-card rounded-2xl shadow-lg p-6 md:p-10">
        
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="header-font text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-teal-500">PDF Fusion</h1>
            <p class="text-slate-600 mt-2">The simple, elegant solution for your documents.</p>
        </div>

        <!-- Uploader -->
        <div class="mb-6">
            <label id="upload-label" for="pdf-files" class="block w-full cursor-pointer border-2 border-dashed border-slate-300 rounded-xl p-8 text-center transition-all duration-300 hover:border-emerald-500 hover:bg-emerald-50">
                <svg class="mx-auto h-12 w-12 text-slate-400 transition-transform duration-300" id="upload-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 16.5V9.75m0 0l-3-3.75M12 9.75l3 3.75m3 4.5V6.75A2.25 2.25 0 0016.5 4.5h-9A2.25 2.25 0 005.25 6.75v10.5A2.25 2.25 0 007.5 19.5h9a2.25 2.25 0 002.25-2.25z" />
                </svg>
                <span class="mt-2 block text-sm font-medium text-slate-700">Select Files or Drag & Drop</span>
                <input type="file" id="pdf-files" class="hidden" multiple accept="application/pdf">
            </label>
        </div>

        <!-- File List & Action Button -->
        <div id="file-list-container" class="hidden">
            <h3 class="header-font text-lg font-bold mb-3 text-slate-800">File Queue (Drag to Reorder):</h3>
            <ul id="file-list" class="space-y-2 mb-6 max-h-60 overflow-y-auto pr-2"></ul>
            <div class="flex flex-col sm:flex-row gap-4">
                <button id="add-more-btn" class="w-full btn btn-secondary">Add More Files</button>
                <button id="process-btn" class="w-full btn btn-main">Execute Fusion</button>
            </div>
            <input type="file" id="add-more-input" class="hidden" multiple accept="application/pdf">
        </div>
        
        <!-- Processing/Status Section -->
        <div id="status" class="hidden text-center my-6">
            <div id="processing-animation" class="mx-auto">
                <div class="doc doc1"></div>
                <div class="doc doc2"></div>
                <div class="doc doc3"></div>
            </div>
            <p id="status-message" class="text-lg font-medium text-emerald-600 mt-4"></p>
        </div>

        <!-- Results Section -->
        <div id="results-container" class="hidden mt-8 pt-6 border-t border-slate-200">
             <h3 class="header-font text-xl font-bold mb-4 text-slate-800">Output Files:</h3>
            <div id="results" class="grid sm:grid-cols-2 gap-4"></div>
        </div>
    </div>

    <!-- How It Works Section -->
    <div class="w-full max-w-5xl mt-16">
        <h2 class="header-font text-3xl font-extrabold text-center text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-teal-500 mb-10">A Simple, Powerful Workflow</h2>
        <div class="grid md:grid-cols-3 gap-8 text-center">
            <div class="feature-card bg-white p-6 rounded-xl shadow-md border" style="animation-delay: 100ms;">
                <div class="flex items-center justify-center h-16 w-16 rounded-full bg-emerald-100 mx-auto mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-emerald-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" /></svg>
                </div>
                <h3 class="header-font font-bold text-slate-800 text-lg">1. Upload Files</h3>
                <p class="text-slate-600 text-sm mt-2">Simply drag and drop your PDF files into the upload area, or click to select them from your computer. There are no limits on the number of files you can merge at once.</p>
            </div>
            <div class="feature-card bg-white p-6 rounded-xl shadow-md border" style="animation-delay: 200ms;">
                <div class="flex items-center justify-center h-16 w-16 rounded-full bg-emerald-100 mx-auto mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-emerald-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                </div>
                <h3 class="header-font font-bold text-slate-800 text-lg">2. Process & Fuse</h3>
                <p class="text-slate-600 text-sm mt-2">Click the "Execute Fusion" button. Our powerful in-browser tool will securely merge your files. If the total size exceeds 20MB, it will be automatically split into smaller parts.</p>
            </div>
            <div class="feature-card bg-white p-6 rounded-xl shadow-md border" style="animation-delay: 300ms;">
                <div class="flex items-center justify-center h-16 w-16 rounded-full bg-emerald-100 mx-auto mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-emerald-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" /></svg>
                </div>
                <h3 class="header-font font-bold text-slate-800 text-lg">3. Download</h3>
                <p class="text-slate-600 text-sm mt-2">Your new files will appear in the "Output Files" section. Click the download button for each file to save it directly to your device. It's that simple!</p>
            </div>
        </div>
    </div>

    <!-- FAQ Section -->
    <div class="w-full max-w-5xl mt-16">
        <h2 class="header-font text-3xl font-extrabold text-center text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-teal-500 mb-10">Frequently Asked Questions</h2>
        <div class="grid md:grid-cols-2 gap-6">
            <div class="faq-item bg-white p-6 rounded-xl shadow-md border" style="animation-delay: 400ms;">
                <h3 class="header-font font-bold text-slate-800">Is this tool really free?</h3>
                <p class="text-slate-600 text-sm mt-2">Yes, absolutely. PDF Fusion is completely free to use with no hidden costs, subscriptions, or limits on the number of files you can process.</p>
            </div>
            <div class="faq-item bg-white p-6 rounded-xl shadow-md border" style="animation-delay: 500ms;">
                <h3 class="header-font font-bold text-slate-800">Are my files safe and private?</h3>
                <p class="text-slate-600 text-sm mt-2">Your privacy is our top priority. All merging and splitting operations happen directly in your web browser. This means your files are never uploaded to our servers, ensuring they remain 100% private.</p>
            </div>
            <div class="faq-item bg-white p-6 rounded-xl shadow-md border" style="animation-delay: 600ms;">
                <h3 class="header-font font-bold text-slate-800">Why do files split at 20MB?</h3>
                <p class="text-slate-600 text-sm mt-2">Many email providers have attachment size limits around 20-25MB. We automatically split larger files to ensure you can easily share them via email without running into size restrictions.</p>
            </div>
            <div class="faq-item bg-white p-6 rounded-xl shadow-md border" style="animation-delay: 700ms;">
                <h3 class="header-font font-bold text-slate-800">Is there a limit on file size?</h3>
                <p class="text-slate-600 text-sm mt-2">While there's no hard limit imposed by the tool, performance may vary depending on your computer's memory and the size of your files. For very large documents, the process may take a bit longer.</p>
            </div>
        </div>
    </div>
    
    <!-- Footer Section -->
    <footer class="w-full max-w-5xl mx-auto py-4 mt-16 px-4">
        <div class="flex flex-col sm:flex-row justify-between items-center bg-white/80 border border-slate-200 rounded-lg shadow-md p-4 backdrop-blur-sm text-center sm:text-left">
            <p class="text-sm font-medium text-slate-700 mb-2 sm:mb-0">Designed & Developed by Pratik Bihari</p>
            <p class="text-xs text-slate-500">Â© 2025 Pratik Bihari. All Rights Reserved.</p>
        </div>
    </footer>


    <script>
        const { PDFDocument } = PDFLib;

        const uploadLabel = document.getElementById('upload-label');
        const uploadIcon = document.getElementById('upload-icon');
        const fileInput = document.getElementById('pdf-files');
        const addMoreInput = document.getElementById('add-more-input');
        const addMoreBtn = document.getElementById('add-more-btn');
        const fileListContainer = document.getElementById('file-list-container');
        const fileList = document.getElementById('file-list');
        const processBtn = document.getElementById('process-btn');
        const statusDiv = document.getElementById('status');
        const statusMessage = document.getElementById('status-message');
        const processingAnimation = document.getElementById('processing-animation');
        const resultsContainer = document.getElementById('results-container');
        const resultsDiv = document.getElementById('results');

        const MAX_CHUNK_SIZE_BYTES = 20 * 1024 * 1024;
        let selectedFiles = [];
        let sortableInstance = null;

        // --- DRAG AND DROP EVENT LISTENERS ---
        uploadLabel.addEventListener('dragover', (event) => {
            event.preventDefault();
            uploadLabel.classList.add('drag-over');
        });
        uploadLabel.addEventListener('dragleave', () => {
            uploadLabel.classList.remove('drag-over');
        });
        uploadLabel.addEventListener('drop', (event) => {
            event.preventDefault();
            uploadLabel.classList.remove('drag-over');
            const files = event.dataTransfer.files;
            if (files.length) {
                selectedFiles = Array.from(files).filter(file => file.type === 'application/pdf');
                renderFileList();
            }
        });

        uploadLabel.addEventListener('mouseenter', () => uploadIcon.classList.add('scale-110'));
        uploadLabel.addEventListener('mouseleave', () => uploadIcon.classList.remove('scale-110'));
        
        fileInput.addEventListener('change', (event) => {
            selectedFiles = Array.from(event.target.files).filter(file => file.type === 'application/pdf');
            renderFileList();
        });

        addMoreBtn.addEventListener('click', () => {
            addMoreInput.click();
        });

        addMoreInput.addEventListener('change', (event) => {
            const newFiles = Array.from(event.target.files).filter(file => file.type === 'application/pdf');
            selectedFiles.push(...newFiles);
            renderFileList();
            event.target.value = null; // Reset input to allow selecting the same file again
        });

        processBtn.addEventListener('click', handleProcess);

        async function getPageCount(file) {
            try {
                const arrayBuffer = await file.arrayBuffer();
                const pdf = await PDFDocument.load(arrayBuffer, { ignoreEncryption: true });
                return pdf.getPageCount();
            } catch (e) {
                return 'N/A';
            }
        }

        function renderFileList() {
            fileList.innerHTML = '';
            if (selectedFiles.length > 0) {
                fileListContainer.classList.remove('hidden');
                resultsContainer.classList.add('hidden');
                resultsDiv.innerHTML = '';
                statusMessage.textContent = '';
                statusDiv.classList.add('hidden');

                selectedFiles.forEach((file, index) => {
                    const listItem = document.createElement('li');
                    listItem.id = `file-item-${index}`;
                    listItem.dataset.index = index;
                    listItem.className = 'file-item flex items-center justify-between p-3 bg-white border border-slate-200 rounded-lg shadow-sm transition-all duration-300';
                    listItem.style.animationDelay = `${index * 60}ms`;
                    listItem.innerHTML = `
                        <div class="flex items-center overflow-hidden">
                            <svg class="w-6 h-6 text-slate-400 mr-3 flex-shrink-0 drag-handle" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" /></svg>
                            <svg class="w-5 h-5 text-emerald-500 mr-3 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4 2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V8.343a1 1 0 00-.293-.707l-5.343-5.343A1 1 0 0011.657 2H4zm6 6a1 1 0 10-2 0v2H6a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V8z" clip-rule="evenodd" /></svg>
                            <span class="font-medium text-sm text-slate-700 truncate">${file.name}</span>
                        </div>
                        <div class="flex items-center">
                            <div class="text-xs text-slate-500 text-right flex-shrink-0 ml-4">
                                <span>${(file.size / 1024 / 1024).toFixed(2)} MB</span>
                                <span id="page-count-${index}" class="ml-2 inline-block w-20 text-center">loading...</span>
                            </div>
                            <button class="remove-btn ml-4 text-slate-400 hover:text-red-500" data-index="${index}">
                                <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
                            </button>
                        </div>
                    `;
                    fileList.appendChild(listItem);
                });

                if (sortableInstance) {
                    sortableInstance.destroy();
                }
                
                sortableInstance = new Sortable(fileList, {
                    animation: 150,
                    ghostClass: 'sortable-ghost',
                    handle: '.drag-handle',
                    onEnd: (evt) => {
                        const movedItem = selectedFiles.splice(evt.oldIndex, 1)[0];
                        selectedFiles.splice(evt.newIndex, 0, movedItem);
                        renderFileList();
                    }
                });

                fileList.querySelectorAll('.remove-btn').forEach(button => {
                    button.addEventListener('click', (event) => {
                        const indexToRemove = parseInt(event.currentTarget.dataset.index, 10);
                        selectedFiles.splice(indexToRemove, 1);
                        renderFileList();
                    });
                });

                selectedFiles.forEach((file, index) => {
                    getPageCount(file).then(pageCount => {
                        const pageCountSpan = document.getElementById(`page-count-${index}`);
                        if (pageCountSpan) pageCountSpan.textContent = `${pageCount} pages`;
                    });
                });

            } else {
                fileListContainer.classList.add('hidden');
            }
        }

        async function handleProcess() {
            if (selectedFiles.length === 0) return;

            processBtn.disabled = true;
            addMoreBtn.disabled = true;
            statusDiv.classList.remove('hidden');
            processingAnimation.style.display = 'block';
            resultsContainer.classList.add('hidden');
            resultsDiv.innerHTML = '';
            statusMessage.textContent = 'Initializing fusion...';

            try {
                const mergedPdfDoc = await PDFDocument.create();
                for (let i = 0; i < selectedFiles.length; i++) {
                    statusMessage.textContent = `Fusing file ${i + 1} of ${selectedFiles.length}...`;
                    const arrayBuffer = await selectedFiles[i].arrayBuffer();
                    const pdf = await PDFDocument.load(arrayBuffer, { ignoreEncryption: true });
                    const copiedPages = await mergedPdfDoc.copyPages(pdf, pdf.getPageIndices());
                    copiedPages.forEach((page) => mergedPdfDoc.addPage(page));
                }

                const mergedPdfBytes = await mergedPdfDoc.save();
                if (mergedPdfBytes.byteLength > MAX_CHUNK_SIZE_BYTES) {
                    statusMessage.textContent = 'Splitting into smaller chunks...';
                    await splitPdf(mergedPdfBytes);
                } else {
                    statusMessage.textContent = 'Creating download...';
                    createDownloadLink(mergedPdfBytes, 'merged_document.pdf', mergedPdfDoc.getPageCount());
                }
                statusMessage.textContent = 'Process complete.';
                resultsContainer.classList.remove('hidden');
            } catch (error) {
                statusMessage.textContent = `Error: ${error.message}`;
            } finally {
                processBtn.disabled = false;
                addMoreBtn.disabled = false;
                processingAnimation.style.display = 'none';
            }
        }

        async function splitPdf(pdfBytes) {
            const originalPdf = await PDFDocument.load(pdfBytes);
            const totalPages = originalPdf.getPageCount();
            let partNumber = 1;
            let pageIndicesForCurrentPart = [];

            for (let i = 0; i < totalPages; i++) {
                statusMessage.textContent = `Analyzing page ${i + 1} of ${totalPages}...`;
                pageIndicesForCurrentPart.push(i);

                const testDoc = await PDFDocument.create();
                const pagesToCopy = await testDoc.copyPages(originalPdf, pageIndicesForCurrentPart);
                pagesToCopy.forEach(page => testDoc.addPage(page));
                const testBytes = await testDoc.save();

                if (testBytes.byteLength > MAX_CHUNK_SIZE_BYTES) {
                    if (pageIndicesForCurrentPart.length === 1) {
                        createDownloadLink(testBytes, `part_${partNumber++}_oversized.pdf`, 1);
                        pageIndicesForCurrentPart = [];
                    } else {
                        const lastPageIndex = pageIndicesForCurrentPart.pop();
                        const finalPartDoc = await PDFDocument.create();
                        const finalPagesToCopy = await finalPartDoc.copyPages(originalPdf, pageIndicesForCurrentPart);
                        finalPagesToCopy.forEach(page => finalPartDoc.addPage(page));
                        const finalPartBytes = await finalPartDoc.save();
                        createDownloadLink(finalPartBytes, `part_${partNumber++}.pdf`, finalPartDoc.getPageCount());
                        pageIndicesForCurrentPart = [lastPageIndex];
                    }
                }
            }

            if (pageIndicesForCurrentPart.length > 0) {
                const lastPartDoc = await PDFDocument.create();
                const lastPagesToCopy = await lastPartDoc.copyPages(originalPdf, pageIndicesForCurrentPart);
                lastPagesToCopy.forEach(page => lastPartDoc.addPage(page));
                const lastPartBytes = await lastPartDoc.save();
                createDownloadLink(lastPartBytes, `part_${partNumber++}.pdf`, lastPartDoc.getPageCount());
            }
        }

        function createDownloadLink(pdfBytes, filename, pageCount) {
            const blob = new Blob([pdfBytes], { type: 'application/pdf' });
            const url = URL.createObjectURL(blob);

            const linkContainer = document.createElement('div');
            linkContainer.className = 'file-item flex items-center justify-between p-4 bg-white border border-slate-200 rounded-lg shadow-md';
            linkContainer.style.animationDelay = `${resultsDiv.children.length * 100}ms`;
            
            const textContainer = document.createElement('div');
            const fileNameSpan = document.createElement('span');
            fileNameSpan.className = 'font-semibold text-slate-800';
            fileNameSpan.textContent = filename;
            
            const detailsContainer = document.createElement('div');
            detailsContainer.className = 'mt-1 text-xs flex items-center text-slate-500';
            detailsContainer.innerHTML = `
                <span>${(pdfBytes.byteLength / 1024 / 1024).toFixed(2)} MB</span>
                <span class="mx-2">|</span>
                <span>${pageCount} pages</span>
            `;

            textContainer.appendChild(fileNameSpan);
            textContainer.appendChild(detailsContainer);

            const downloadButton = document.createElement('a');
            downloadButton.href = url;
            downloadButton.download = filename;
            downloadButton.className = 'flex items-center btn btn-main text-white font-bold py-2 px-4 rounded-lg text-sm';
            downloadButton.innerHTML = `<svg class="w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" /></svg>Download`;

            linkContainer.appendChild(textContainer);
            linkContainer.appendChild(downloadButton);
            resultsDiv.appendChild(linkContainer);
        }
    </script>
</body>
</html>
